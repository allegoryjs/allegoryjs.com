{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ez/src/allegoryjs.com/components/github-commits.tsx"],"sourcesContent":["\"use client\"\n\nimport useSWR from \"swr\"\n\ninterface Commit {\n  sha: string\n  commit: {\n    message: string\n    author: {\n      name: string\n      date: string\n    }\n  }\n  html_url: string\n  author: {\n    login: string\n    avatar_url: string\n  } | null\n}\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json())\n\nfunction formatDate(dateString: string) {\n  const date = new Date(dateString)\n  const now = new Date()\n  const diffInMs = now.getTime() - date.getTime()\n  const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24))\n\n  if (diffInDays === 0) return \"Today\"\n  if (diffInDays === 1) return \"Yesterday\"\n  if (diffInDays < 7) return `${diffInDays} days ago`\n  if (diffInDays < 30) return `${Math.floor(diffInDays / 7)} weeks ago`\n  return date.toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" })\n}\n\nfunction CommitSkeleton() {\n  return (\n    <div className=\"flex gap-4 p-4 animate-pulse\">\n      <div className=\"w-8 h-8 rounded-full bg-muted\"></div>\n      <div className=\"flex-1 space-y-2\">\n        <div className=\"h-4 bg-muted rounded w-3/4\"></div>\n        <div className=\"h-3 bg-muted rounded w-1/4\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport function GitHubCommits() {\n  const { data, error, isLoading } = useSWR<Commit[]>(\n    \"https://api.github.com/repos/allegoryjs/allegoryjs/commits?per_page=5\",\n    fetcher,\n    {\n      revalidateOnFocus: false,\n      dedupingInterval: 60000,\n    }\n  )\n\n  return (\n    <section className=\"px-6 py-16 md:py-24\">\n      <div className=\"max-w-3xl mx-auto\">\n        <header className=\"text-center mb-12\">\n          <div className=\"inline-flex items-center gap-2 px-3 py-1 mb-4 text-xs border border-accent/50 rounded-full bg-accent/10 text-primary\">\n            <span className=\"relative flex h-2 w-2\">\n              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75\"></span>\n              <span className=\"relative inline-flex rounded-full h-2 w-2 bg-accent\"></span>\n            </span>\n            Active Development\n          </div>\n          <h2 className=\"text-3xl md:text-4xl font-serif mb-4 text-foreground\">\n            Recent Activity\n          </h2>\n          <p className=\"text-muted-foreground\">\n            Follow along as we build AllegoryJS in the open.\n          </p>\n        </header>\n\n        <div className=\"bg-card rounded-lg border border-border overflow-hidden\">\n          <div className=\"px-4 py-3 border-b border-border flex items-center gap-2 bg-card\">\n            <svg className=\"w-5 h-5 text-muted-foreground\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path fillRule=\"evenodd\" d=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-sm font-medium text-foreground\">allegoryjs/allegoryjs</span>\n          </div>\n\n          <div className=\"divide-y divide-border\">\n            {isLoading && (\n              <>\n                <CommitSkeleton />\n                <CommitSkeleton />\n                <CommitSkeleton />\n                <CommitSkeleton />\n                <CommitSkeleton />\n              </>\n            )}\n\n            {error && (\n              <div className=\"p-8 text-center text-muted-foreground\">\n                <p>Unable to load commits right now.</p>\n                <a\n                  href=\"https://github.com/allegoryjs/allegoryjs/commits\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-primary hover:underline mt-2 inline-block\"\n                >\n                  View on GitHub\n                </a>\n              </div>\n            )}\n\n            {data && Array.isArray(data) && data.map((commit) => (\n              <a\n                key={commit.sha}\n                href={commit.html_url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex gap-4 p-4 hover:bg-accent/5 transition-colors group\"\n              >\n                {commit.author?.avatar_url ? (\n                  <img\n                    src={commit.author.avatar_url || \"/placeholder.svg\"}\n                    alt={commit.author.login}\n                    className=\"w-8 h-8 rounded-full\"\n                  />\n                ) : (\n                  <div className=\"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-xs text-muted-foreground\">\n                    {commit.commit.author.name.charAt(0).toUpperCase()}\n                  </div>\n                )}\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm text-foreground truncate group-hover:text-primary transition-colors\">\n                    {commit.commit.message.split(\"\\n\")[0]}\n                  </p>\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    <span className=\"font-medium\">{commit.author?.login || commit.commit.author.name}</span>\n                    {\" · \"}\n                    <span>{formatDate(commit.commit.author.date)}</span>\n                    {\" · \"}\n                    <span className=\"font-mono\">{commit.sha.slice(0, 7)}</span>\n                  </p>\n                </div>\n                <svg\n                  className=\"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity self-center\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  strokeWidth={2}\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                </svg>\n              </a>\n            ))}\n\n            {data && !Array.isArray(data) && (\n              <div className=\"p-8 text-center text-muted-foreground\">\n                <p>Repository not found or no commits available.</p>\n                <a\n                  href=\"https://github.com/allegoryjs/allegoryjs\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-primary hover:underline mt-2 inline-block\"\n                >\n                  Check Repository\n                </a>\n              </div>\n            )}\n          </div>\n\n          <div className=\"px-4 py-3 border-t border-border bg-card\">\n            <a\n              href=\"https://github.com/allegoryjs/allegoryjs/commits\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-sm text-primary hover:underline\"\n            >\n              View all commits on GitHub →\n            </a>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///Users/ez/src/allegoryjs.com/components/newsletter.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\n\nimport { useState } from \"react\"\n\nexport function Newsletter() {\n  const [email, setEmail] = useState(\"\")\n  const [status, setStatus] = useState<\"idle\" | \"loading\" | \"success\" | \"error\">(\"idle\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!email) return\n\n    setStatus(\"loading\")\n\n    try {\n      const response = await fetch(\"https://formspree.io/f/xqepnwgr\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email }),\n      })\n\n      if (response.ok) {\n        setStatus(\"success\")\n        setEmail(\"\")\n      } else {\n        setStatus(\"error\")\n      }\n    } catch {\n      setStatus(\"error\")\n    }\n  }\n\n  return (\n    <section id=\"newsletter\" className=\"px-6 py-16 md:py-24 bg-card\">\n      <div className=\"max-w-xl mx-auto text-center\">\n        {/* Decorative quill icon */}\n        <div className=\"mb-6\">\n          <svg className=\"w-12 h-12 mx-auto text-accent\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\" />\n          </svg>\n        </div>\n\n        <h2 className=\"text-3xl md:text-4xl font-serif mb-4 text-card-foreground\">\n          Stay in the Story\n        </h2>\n        <p className=\"text-muted-foreground mb-8\">\n          Get occasional updates on AllegoryJS development, new features, and \n          insights into building interactive fiction for the web.\n        </p>\n\n        {status === \"error\" ? (\n          <div className=\"p-6 bg-background rounded-lg border border-destructive/30 mb-4\">\n            <p className=\"text-destructive font-medium\">Something went wrong. Please try again.</p>\n            <button\n              type=\"button\"\n              onClick={() => setStatus(\"idle\")}\n              className=\"mt-3 text-sm text-muted-foreground underline hover:text-foreground\"\n            >\n              Try again\n            </button>\n          </div>\n        ) : status === \"success\" ? (\n          <div className=\"p-6 bg-background rounded-lg border border-accent/30\">\n            <svg\n              className=\"w-10 h-10 mx-auto text-accent mb-3\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth={1.5}\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <p className=\"text-foreground font-medium\">{\"You're on the list!\"}</p>\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              {\"We'll be in touch when there's something worth sharing.\"}\n            </p>\n          </div>\n        ) : (\n          <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row gap-3\">\n            <label className=\"sr-only\" htmlFor=\"email\">\n              Email address\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              placeholder=\"your@email.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              className=\"flex-1 px-4 py-3 bg-background border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent/50 focus:border-accent\"\n            />\n            <button\n              type=\"submit\"\n              disabled={status === \"loading\"}\n              className=\"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n            >\n              {status === \"loading\" ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"animate-spin w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  Subscribing...\n                </span>\n              ) : (\n                \"Subscribe\"\n              )}\n            </button>\n          </form>\n        )}\n\n        <p className=\"text-xs text-muted-foreground mt-4\">\n          No spam, ever. Unsubscribe anytime.\n        </p>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;;;AAJA;;AAMO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAA2C;IAE/E,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,OAAO;QAEZ,UAAU;QAEV,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mCAAmC;gBAC9D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAM;YAC/B;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,UAAU;gBACV,SAAS;YACX,OAAO;gBACL,UAAU;YACZ;QACF,EAAE,OAAM;YACN,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QAAQ,IAAG;QAAa,WAAU;kBACjC,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;wBAAgC,MAAK;wBAAO,SAAQ;wBAAY,QAAO;wBAAe,aAAa;kCAChH,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,GAAE;;;;;;;;;;;;;;;;8BAIzD,6LAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAG1E,6LAAC;oBAAE,WAAU;8BAA6B;;;;;;gBAKzC,WAAW,wBACV,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCAA+B;;;;;;sCAC5C,6LAAC;4BACC,MAAK;4BACL,SAAS,IAAM,UAAU;4BACzB,WAAU;sCACX;;;;;;;;;;;2BAID,WAAW,0BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAQ;4BACR,QAAO;4BACP,aAAa;sCAEb,cAAA,6LAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,GAAE;;;;;;;;;;;sCAEvD,6LAAC;4BAAE,WAAU;sCAA+B;;;;;;sCAC5C,6LAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;yCAIL,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BAAM,WAAU;4BAAU,SAAQ;sCAAQ;;;;;;sCAG3C,6LAAC;4BACC,IAAG;4BACH,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,QAAQ;4BACR,WAAU;;;;;;sCAEZ,6LAAC;4BACC,MAAK;4BACL,UAAU,WAAW;4BACrB,WAAU;sCAET,WAAW,0BACV,6LAAC;gCAAK,WAAU;;kDACd,6LAAC;wCAAI,WAAU;wCAAuB,MAAK;wCAAO,SAAQ;;0DACxD,6LAAC;gDAAO,WAAU;gDAAa,IAAG;gDAAK,IAAG;gDAAK,GAAE;gDAAK,QAAO;gDAAe,aAAY;;;;;;0DACxF,6LAAC;gDAAK,WAAU;gDAAa,MAAK;gDAAe,GAAE;;;;;;;;;;;;oCAC/C;;;;;;uCAIR;;;;;;;;;;;;8BAMR,6LAAC;oBAAE,WAAU;8BAAqC;;;;;;;;;;;;;;;;;AAM1D;GAnHgB;KAAA"}}]
}